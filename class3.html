<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Intro to Rails</title>

    <meta name="description" content="This is an Intro to Rails course, intended for eventual inclusion in the Girl Develop It Core Curriculum. All material by Cheri Allen, inspired by Railsbridge.

    The course is meant to be taught in four two-hour workshops. Each of the slides and practice files are customizable according to the needs of a given class or audience.">
    <meta name="author" content="Girl Develop It">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

     <link rel="stylesheet" href="reveal.js/css/reveal.css">
    <link rel="stylesheet" href="reveal.js/css/theme/gdicool.css" id="theme">
    <link rel="stylesheet" href="overwrite.css">

    <!-- For syntax highlighting -->
    <!-- light editor<link rel="stylesheet" href="lib/css/light.css">-->
    <!-- dark editor--><link rel="stylesheet" href="reveal.js/lib/css/dark.css">

    <!-- If use the PDF print sheet so students can print slides-->
    
    <link rel="stylesheet" href="reveal.js/css/print/pdf.css" type="text/css" media="print">

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal">

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
        <!-- Opening slide -->
        <section>
          <img src = "images/gdi_logo_badge.png">
          <h3>Intro to Rails</h3>
          <p>slides: http://cherimarie.github.io/gdi-rails</p>
        </section>
        
  <!-- Intro -->
        <section>
          <h3>Welcome!</h3>
          <div class = "left-align">
          <p>Girl Develop It is here to provide affordable and accessible programs to learn software through mentorship and hands-on instruction.</p>
          <p class ="green">Some "rules"</p>
          <ul>
            <li>We are here for you!</li>
            <li>Every question is important</li>
            <li>Help each other</li>
            <li>Have fun</li>
          </ul>
          </div>
        </section>
        
        <section>
          <h3>What we will cover today</h3>
          <ul>
            <li>Routing</li>
            <li>Email</li>
            <li>Deployment</li>
          </ul>
        </section>

        <section>
          <h3>What is routing</h3>
          <p>Routing turns a URL into a controller and action.</p>
          <!-- right now our URLs look like /posts/1 or /authors/15 -->
          <!-- we want them to look like /posts/hello-world or /authors/alice -->
        </section>

        <section>
          <h3>Why do we route?</h3>
          <ul>
            <li>We have to run code somehow</li>
            <li>Search Engine Optimization</li>
            <li>Can express data relationships with routes</li>
          </ul>
        </section>

        <section>
          <h3>How do we approach?</h3>
          <ul>
            <li>There's a concept called slugging</li>
            <li>There are gems to do it for us</li>
            <li>But we'll do it ourselves</li>
          </ul>
        </section>

        <section>
          <h3>Let's start with Posts</h3>
          <p>We're going to keep working with our Blog from last class.</p>
          <ul>
            <li>Let's make an AddSlugToPosts migration</li>
          </ul>
        </section>

        <section>
          <h3>But a slug is more like an ID than other fields</h3>
          <p>So we won't make a form field for it</p>
        </section>

        <section>
          <h3>Instead we'll use after_create</h3>
          <pre><code class="ruby">after_create do<br>
   self.slug = self.id + '-' + self.title.parameterize<br>
   self.save<br>
end</code></pre>
          </section>

          <section>
            <h3>These are called callbacks</h3>
            <p>And there are a lot of them</p>
          </section>
          
          <section>
            <h3>How do we use slugs?</h3>
            <ul>
                <li>config/router.rb: <code class="ruby">, param: :slug</code></li>
                <li>app/controllers/posts_controller.rb</li>
            </ul>
          </section>

          <section>
            <h3>Give a Model a way to declare its Param</h3>
            <p>Rails will call .to_param on your model to come up with its identifier for Links</p>
            <pre><code class="ruby">def to_param<br />
    slug
end</code></pre>
          </section>

          <section>
            <h3>And your controller needs to switch to slug</h3>
            <pre><code>def set_post<br/>
    @post = Post.find(params[:slug])
end</code></pre>
          </section>

          <section>
            <h3>Authors have slugs, too</h3>
          </section>

          <section>
            <h3>But we wouldn't do it to Comments</h3>
            <!-- trusting user input -->
          </section>

          <section>
            <h3>Filtering</h3>
            <p>Blogs have posts by multiple authors. Let's build a way to see the posts by a certain author.</p>
          </section>

          <section>
            <h3>PostsController</h3>
            <pre><code language="ruby">
def index
    if params[:author]
       @author = Author.find_by(slug: params[:author])
       @posts = @author.posts
    else
       @posts = Post.all
    end
end</code></pre>
          </section>

          <section>
            <h3>And let's see it work</h3>
            <p><a href="./class4.html">Class 3</a></p>
          </section>

      </div>
      <footer>
        <div class="copyright">
          Intro to Rails
          <a rel="license" href="http://creativecommons.org/licenses/by-nc/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc/3.0/80x15.png" /></a>
        </div>
      </footer>
    </div>



    <script src="reveal.js/lib/js/head.min.js"></script>
    <script src="reveal.js/js/reveal.min.js"></script>

    <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,

        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/none

        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'reveal.js/plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: 'reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
      });

    </script>


  </body>
</html>
